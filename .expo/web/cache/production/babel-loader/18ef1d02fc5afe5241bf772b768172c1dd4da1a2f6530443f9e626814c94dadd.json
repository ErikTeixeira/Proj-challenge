{"ast":null,"code":"import{Ionicons}from'@expo/vector-icons';import React,{useEffect}from'react';import FlatList from\"react-native-web/dist/exports/FlatList\";import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import View from\"react-native-web/dist/exports/View\";import{useItineraries}from'../../components/ItineraryContext';import styles from\"./style\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MyItinerary=({navigation})=>{const{itineraries,deleteItinerary,updateCounter}=useItineraries();const handleItineraryPress=itinerary=>{navigation.navigate('DetalhesItinerario',{itinerary:itinerary.data});};useEffect(()=>{},[updateCounter]);const renderItineraryItem=({item})=>_jsxs(View,{style:styles.itineraryItem,children:[_jsx(TouchableOpacity,{onPress:()=>handleItineraryPress(item),style:styles.itineraryContent,children:_jsx(Text,{style:styles.itineraryTitle,children:\"Itiner\\xE1rio\"})}),_jsx(TouchableOpacity,{onPress:()=>{const index=itineraries.findIndex(it=>it.id===item.id);if(index>-1){deleteItinerary(index);}else{console.error(\"Itinerário não encontrado para exclusão.\");}},style:styles.deleteButton,children:_jsx(Ionicons,{name:\"trash\",size:24,color:\"red\"})})]},item.id);return _jsxs(View,{style:styles.container,children:[_jsxs(View,{style:styles.header,children:[_jsx(TouchableOpacity,{onPress:()=>navigation.navigate('Home'),style:styles.arrow,children:_jsx(Ionicons,{name:\"arrow-back\",size:24,color:\"black\"})}),_jsx(Text,{style:styles.title,children:\"Meus Itiner\\xE1rios\"})]}),itineraries.length===0?_jsx(Text,{style:styles.emptyText,children:\"Nenhum itiner\\xE1rio encontrado.\"}):_jsx(FlatList,{data:itineraries,renderItem:renderItineraryItem,keyExtractor:item=>item.id.toString()}),_jsx(View,{style:styles.footer,children:_jsx(Text,{style:styles.footerText,children:\"\\xA9 TechPeach Copyright 2024\"})})]});};export default MyItinerary;","map":{"version":3,"names":["Ionicons","React","useEffect","FlatList","Text","TouchableOpacity","View","useItineraries","styles","jsx","_jsx","jsxs","_jsxs","MyItinerary","navigation","itineraries","deleteItinerary","updateCounter","handleItineraryPress","itinerary","navigate","data","renderItineraryItem","item","style","itineraryItem","children","onPress","itineraryContent","itineraryTitle","index","findIndex","it","id","console","error","deleteButton","name","size","color","container","header","arrow","title","length","emptyText","renderItem","keyExtractor","toString","footer","footerText"],"sources":["C:/Users/labsfiap/Downloads/Proj-challenge/src/screens/MyItinerary/index.js"],"sourcesContent":["import { Ionicons } from '@expo/vector-icons';\r\nimport React, { useEffect } from 'react';\r\nimport { FlatList, Text, TouchableOpacity, View } from 'react-native';\r\n\r\nimport { useItineraries } from '../../components/ItineraryContext';\r\n\r\nimport styles from \"./style\";\r\n\r\nconst MyItinerary = ({ navigation }) => {\r\n  // Obtém os itinerários e a função deleteItinerary do contexto\r\n  const { itineraries, deleteItinerary, updateCounter } = useItineraries();\r\n\r\n  const handleItineraryPress = (itinerary) => {\r\n    navigation.navigate('DetalhesItinerario', { itinerary: itinerary.data });\r\n  };\r\n\r\n  // Adiciona um useEffect para forçar a re-renderização quando updateCounter mudar\r\n  useEffect(() => {\r\n    // Este useEffect será executado sempre que o updateCounter mudar\r\n  }, [updateCounter]);\r\n\r\n  const renderItineraryItem = ({ item }) => (\r\n    <View style={styles.itineraryItem} key={item.id}>\r\n      <TouchableOpacity\r\n        onPress={() => handleItineraryPress(item)}\r\n        style={styles.itineraryContent}\r\n      >\r\n        <Text style={styles.itineraryTitle}>Itinerário</Text>\r\n      </TouchableOpacity>\r\n\r\n      <TouchableOpacity\r\n        onPress={() => {\r\n          const index = itineraries.findIndex(it => it.id === item.id);\r\n          if (index > -1) {\r\n            deleteItinerary(index);\r\n          } else {\r\n            console.error(\"Itinerário não encontrado para exclusão.\");\r\n          }\r\n        }}\r\n        style={styles.deleteButton}\r\n      >\r\n        <Ionicons name=\"trash\" size={24} color=\"red\" />\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.header}>\r\n        <TouchableOpacity onPress={() => navigation.navigate('Home')} style={styles.arrow}>\r\n          <Ionicons name=\"arrow-back\" size={24} color=\"black\" />\r\n        </TouchableOpacity>\r\n        <Text style={styles.title}>Meus Itinerários</Text>\r\n      </View>\r\n\r\n      {itineraries.length === 0 ? (\r\n        <Text style={styles.emptyText}>Nenhum itinerário encontrado.</Text>\r\n      ) : (\r\n        <FlatList\r\n          data={itineraries}\r\n          renderItem={renderItineraryItem}\r\n          keyExtractor={(item) => item.id.toString()}\r\n        />\r\n      )}\r\n\r\n      <View style={styles.footer}>\r\n        <Text style={styles.footerText}>\r\n          &#169; TechPeach Copyright 2024\r\n        </Text>\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default MyItinerary;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}